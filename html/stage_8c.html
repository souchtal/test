<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fault Tolerance Interface: /home/bscuser/Documents/release/dev/fti/src/stage.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Fault Tolerance Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('stage_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">stage.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>helper functions for the FTI staging feature.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="interface_8h_source.html">interface.h</a>&quot;</code><br />
<code>#include &lt;libgen.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for stage.c:</div>
<div class="dyncontent">
<div class="center"><img src="stage_8c__incl.png" border="0" usemap="#_2home_2bscuser_2Documents_2release_2dev_2fti_2src_2stage_8c" alt=""/></div>
<map name="_2home_2bscuser_2Documents_2release_2dev_2fti_2src_2stage_8c" id="_2home_2bscuser_2Documents_2release_2dev_2fti_2src_2stage_8c">
<area shape="rect" title="helper functions for the FTI staging feature." alt="" coords="1681,5,1863,49"/>
<area shape="rect" href="interface_8h.html" title="Header file for the FTI library private functions." alt="" coords="1681,97,1765,125"/>
<area shape="rect" title=" " alt="" coords="1789,97,1857,125"/>
<area shape="rect" href="fti_8h.html" title="Header file for the FTI library." alt="" coords="576,265,621,293"/>
<area shape="rect" href="meta_8h.html" title=" " alt="" coords="1069,181,1131,209"/>
<area shape="rect" href="api-cuda_8h.html" title=" " alt="" coords="1155,181,1239,209"/>
<area shape="rect" href="postreco_8h.html" title=" " alt="" coords="1263,181,1347,209"/>
<area shape="rect" href="tools_8h.html" title=" " alt="" coords="1371,181,1434,209"/>
<area shape="rect" href="dcp_8h.html" title=" " alt="" coords="1458,181,1513,209"/>
<area shape="rect" href="conf_8h.html" title=" " alt="" coords="1537,181,1596,209"/>
<area shape="rect" href="checkpoint_8h.html" title=" " alt="" coords="1621,181,1718,209"/>
<area shape="rect" href="stage_8h.html" title=" " alt="" coords="1743,181,1809,209"/>
<area shape="rect" href="fti-io_8h.html" title=" " alt="" coords="582,181,642,209"/>
<area shape="rect" href="topo_8h.html" title=" " alt="" coords="1834,181,1894,209"/>
<area shape="rect" title=" " alt="" coords="1919,181,2001,209"/>
<area shape="rect" title=" " alt="" coords="2026,181,2134,209"/>
<area shape="rect" title=" " alt="" coords="2158,181,2250,209"/>
<area shape="rect" title=" " alt="" coords="2274,181,2345,209"/>
<area shape="rect" title=" " alt="" coords="2369,181,2465,209"/>
<area shape="rect" href="failure-injection_8h.html" title="Defines wrapper for POSIX write functions to enable failure injection." alt="" coords="730,181,854,209"/>
<area shape="rect" href="postckpt_8h.html" title=" " alt="" coords="2489,181,2572,209"/>
<area shape="rect" href="recover_8h.html" title=" " alt="" coords="2597,181,2673,209"/>
<area shape="rect" title=" " alt="" coords="2697,181,2789,209"/>
<area shape="rect" href="icp_8h.html" title=" " alt="" coords="93,341,144,369"/>
<area shape="rect" href="macros_8h.html" title="API functions for the FTI library." alt="" coords="2813,181,2891,209"/>
<area shape="rect" href="utility_8h.html" title=" " alt="" coords="930,181,993,209"/>
<area shape="rect" title=" " alt="" coords="1136,265,1269,293"/>
<area shape="rect" title=" " alt="" coords="1294,265,1351,293"/>
<area shape="rect" title=" " alt="" coords="2915,181,3098,209"/>
<area shape="rect" title=" " alt="" coords="3122,181,3310,209"/>
<area shape="rect" title=" " alt="" coords="3335,173,3495,217"/>
<area shape="rect" title=" " alt="" coords="3519,173,3679,217"/>
<area shape="rect" href="fti-intern_8h.html" title=" " alt="" coords="437,341,520,369"/>
<area shape="rect" title=" " alt="" coords="171,417,240,445"/>
<area shape="rect" title=" " alt="" coords="264,417,328,445"/>
<area shape="rect" title=" " alt="" coords="5,417,67,445"/>
<area shape="rect" title=" " alt="" coords="352,417,419,445"/>
<area shape="rect" title=" " alt="" coords="443,417,514,445"/>
<area shape="rect" title=" " alt="" coords="539,417,603,445"/>
<area shape="rect" title=" " alt="" coords="727,417,793,445"/>
<area shape="rect" title=" " alt="" coords="817,417,887,445"/>
<area shape="rect" title=" " alt="" coords="627,417,703,445"/>
<area shape="rect" title=" " alt="" coords="91,417,146,445"/>
<area shape="rect" title=" " alt="" coords="747,265,837,293"/>
<area shape="rect" title=" " alt="" coords="861,265,939,293"/>
<area shape="rect" title=" " alt="" coords="963,265,1023,293"/>
<area shape="rect" title=" " alt="" coords="1048,265,1112,293"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a46b8c1f1c37f48eb4261fc646e460478"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a46b8c1f1c37f48eb4261fc646e460478">FTI_InitStage</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo)</td></tr>
<tr class="memdesc:a46b8c1f1c37f48eb4261fc646e460478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the FTI staging feature.  <a href="stage_8c.html#a46b8c1f1c37f48eb4261fc646e460478">More...</a><br /></td></tr>
<tr class="separator:a46b8c1f1c37f48eb4261fc646e460478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6cca854e653c7c23d24011f5b3afc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#acf6cca854e653c7c23d24011f5b3afc4">FTI_FinalizeStage</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf)</td></tr>
<tr class="memdesc:acf6cca854e653c7c23d24011f5b3afc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes staging feature.  <a href="stage_8c.html#acf6cca854e653c7c23d24011f5b3afc4">More...</a><br /></td></tr>
<tr class="separator:acf6cca854e653c7c23d24011f5b3afc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add93ac9ae93c0bc729d2d68f1617341c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#add93ac9ae93c0bc729d2d68f1617341c">FTI_InitStageRequestApp</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, uint32_t ID)</td></tr>
<tr class="memdesc:add93ac9ae93c0bc729d2d68f1617341c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes new stage meta info element (application rank)  <a href="stage_8c.html#add93ac9ae93c0bc729d2d68f1617341c">More...</a><br /></td></tr>
<tr class="separator:add93ac9ae93c0bc729d2d68f1617341c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b37a2f01edc58f583e828993eda152"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#ae4b37a2f01edc58f583e828993eda152">FTI_InitStageRequestHead</a> (char *lpath, char *rpath, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, int source, uint32_t ID)</td></tr>
<tr class="memdesc:ae4b37a2f01edc58f583e828993eda152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes new stage meta info element (head rank)  <a href="stage_8c.html#ae4b37a2f01edc58f583e828993eda152">More...</a><br /></td></tr>
<tr class="separator:ae4b37a2f01edc58f583e828993eda152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e74aba3e759272cbdb8db6ccbb879f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a6e74aba3e759272cbdb8db6ccbb879f2">FTI_FreeStageRequest</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, int ID, int source)</td></tr>
<tr class="memdesc:a6e74aba3e759272cbdb8db6ccbb879f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">frees stage meta info element (head/application rank)  <a href="stage_8c.html#a6e74aba3e759272cbdb8db6ccbb879f2">More...</a><br /></td></tr>
<tr class="separator:a6e74aba3e759272cbdb8db6ccbb879f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5a2182e719ef3336289bd24f8fd312"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a0c5a2182e719ef3336289bd24f8fd312">FTI_GetRequestIdx</a> (int ID)</td></tr>
<tr class="memdesc:a0c5a2182e719ef3336289bd24f8fd312"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the index of desired stage meta info element.  <a href="stage_8c.html#a0c5a2182e719ef3336289bd24f8fd312">More...</a><br /></td></tr>
<tr class="separator:a0c5a2182e719ef3336289bd24f8fd312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182f1f60a5374160a724cee0034c572d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a182f1f60a5374160a724cee0034c572d">FTI_SyncStage</a> (char *lpath, char *rpath, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, uint32_t ID)</td></tr>
<tr class="memdesc:a182f1f60a5374160a724cee0034c572d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function synchronously stages the local file to the PFS.  <a href="stage_8c.html#a182f1f60a5374160a724cee0034c572d">More...</a><br /></td></tr>
<tr class="separator:a182f1f60a5374160a724cee0034c572d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d6e550d9f80163986a523bc8f2d33d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a61d6e550d9f80163986a523bc8f2d33d">FTI_AsyncStage</a> (char *lpath, char *rpath, <a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, int ID)</td></tr>
<tr class="memdesc:a61d6e550d9f80163986a523bc8f2d33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function triggers the asynchronous stage.  <a href="stage_8c.html#a61d6e550d9f80163986a523bc8f2d33d">More...</a><br /></td></tr>
<tr class="separator:a61d6e550d9f80163986a523bc8f2d33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e59d3bafaa826d69a91493c80a417e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a7e59d3bafaa826d69a91493c80a417e3">FTI_HandleStageRequest</a> (<a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *FTI_Conf, <a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, <a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *FTI_Ckpt, int source)</td></tr>
<tr class="memdesc:a7e59d3bafaa826d69a91493c80a417e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function asynchronously stages the local file to the PFS.  <a href="stage_8c.html#a7e59d3bafaa826d69a91493c80a417e3">More...</a><br /></td></tr>
<tr class="separator:a7e59d3bafaa826d69a91493c80a417e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b29cd8c8e9446f2dbd8dafac4d07f05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a1b29cd8c8e9446f2dbd8dafac4d07f05">FTI_GetRequestField</a> (int ID, <a class="el" href="stage_8h.html#a05ee3f86e04233d44812d99f1ce02f98">FTIT_RequestField</a> val)</td></tr>
<tr class="memdesc:a1b29cd8c8e9446f2dbd8dafac4d07f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns value from the 'idxRequest' field array at 'ID'.  <a href="stage_8c.html#a1b29cd8c8e9446f2dbd8dafac4d07f05">More...</a><br /></td></tr>
<tr class="separator:a1b29cd8c8e9446f2dbd8dafac4d07f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35eb6e7616b99b2d7713d802327fe061"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a35eb6e7616b99b2d7713d802327fe061">FTI_SetRequestField</a> (int ID, uint32_t entry, <a class="el" href="stage_8h.html#a05ee3f86e04233d44812d99f1ce02f98">FTIT_RequestField</a> val)</td></tr>
<tr class="memdesc:a35eb6e7616b99b2d7713d802327fe061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets value of the 'idxRequest' field array at 'ID'.  <a href="stage_8c.html#a35eb6e7616b99b2d7713d802327fe061">More...</a><br /></td></tr>
<tr class="separator:a35eb6e7616b99b2d7713d802327fe061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ebd25f6254d11bc790e70e9aabd9eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a03ebd25f6254d11bc790e70e9aabd9eb">FTI_GetStatusField</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, int ID, <a class="el" href="stage_8h.html#a90a1c70f104f770eff8ba0b2febc7887">FTIT_StatusField</a> val, int source)</td></tr>
<tr class="memdesc:a03ebd25f6254d11bc790e70e9aabd9eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns value from the 'status' field array at 'ID'.  <a href="stage_8c.html#a03ebd25f6254d11bc790e70e9aabd9eb">More...</a><br /></td></tr>
<tr class="separator:a03ebd25f6254d11bc790e70e9aabd9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab210803902592adb2ebb22b9a9a28dda"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#ab210803902592adb2ebb22b9a9a28dda">FTI_SetStatusField</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, int ID, uint8_t entry, <a class="el" href="stage_8h.html#a90a1c70f104f770eff8ba0b2febc7887">FTIT_StatusField</a> val, int source)</td></tr>
<tr class="memdesc:ab210803902592adb2ebb22b9a9a28dda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets value from the 'status' field array at 'ID'.  <a href="stage_8c.html#ab210803902592adb2ebb22b9a9a28dda">More...</a><br /></td></tr>
<tr class="separator:ab210803902592adb2ebb22b9a9a28dda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af704cfca36ed0ca9ab685a838518c114"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#af704cfca36ed0ca9ab685a838518c114">FTI_GetRequestID</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo)</td></tr>
<tr class="memdesc:af704cfca36ed0ca9ab685a838518c114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns unique 'ID' for staging request.  <a href="stage_8c.html#af704cfca36ed0ca9ab685a838518c114">More...</a><br /></td></tr>
<tr class="separator:af704cfca36ed0ca9ab685a838518c114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11011f5e2b91e35d66c5c39d33aa0aae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stage_8c.html#a11011f5e2b91e35d66c5c39d33aa0aae">FTI_PrintStageStatus</a> (<a class="el" href="structFTIT__execution.html">FTIT_execution</a> *FTI_Exec, <a class="el" href="structFTIT__topology.html">FTIT_topology</a> *FTI_Topo, int ID, int source)</td></tr>
<tr class="separator:a11011f5e2b91e35d66c5c39d33aa0aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>helper functions for the FTI staging feature. </p>
<p>header for <a class="el" href="stage_8c.html" title="helper functions for the FTI staging feature.">stage.c</a></p>
<p>Copyright (c) 2017 Leonardo A. Bautista-Gomez All rights reserved</p>
<p>FTI - A multi-level checkpointing library for C/C++/Fortran applications</p>
<p>Revision 1.0 : Fault Tolerance Interface (FTI)</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<dl class="section author"><dt>Author</dt><dd>Kai Keller (<a href="#" onclick="location.href='mai'+'lto:'+'kel'+'le'+'kai'+'@g'+'mx.'+'de'; return false;">kelle<span style="display: none;">.nosp@m.</span>kai@<span style="display: none;">.nosp@m.</span>gmx.d<span style="display: none;">.nosp@m.</span>e</a>)</dd></dl>
<dl class="section date"><dt>Date</dt><dd>July, 2018 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a61d6e550d9f80163986a523bc8f2d33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61d6e550d9f80163986a523bc8f2d33d">&#9670;&nbsp;</a></span>FTI_AsyncStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_AsyncStage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function triggers the asynchronous stage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>'lpath', absolute path of local file </td></tr>
    <tr><td class="paramname">string</td><td>'rpath', absolute path of remote file </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'FTI_SCES' on success, 'FTI_NSCS' else.</dd></dl>
<p>This function uses a non-blocking send (MPI_Isend) in order to pass the information that is needed by the head process to perform an asynchronous staging of the local file to the PFS. </p>

</div>
</div>
<a id="acf6cca854e653c7c23d24011f5b3afc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6cca854e653c7c23d24011f5b3afc4">&#9670;&nbsp;</a></span>FTI_FinalizeStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FTI_FinalizeStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes staging feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata.</td></tr>
  </table>
  </dd>
</dl>
<p>This function frees allocated ressources, removes local staging files and the staging directory and destroys the node communicator </p>

</div>
</div>
<a id="a6e74aba3e759272cbdb8db6ccbb879f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e74aba3e759272cbdb8db6ccbb879f2">&#9670;&nbsp;</a></span>FTI_FreeStageRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_FreeStageRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>frees stage meta info element (head/application rank) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
    <tr><td class="paramname">integer</td><td>'source', application rank of stage request</td></tr>
  </table>
  </dd>
</dl>
<p>This function eliminates the 'ID' corresponding element from the stage meta info array and frees the corresponding memory. In the application ranks it also reorders the index information in the 'idxRequest√Ñ array corresponding to 'ID'. </p>

</div>
</div>
<a id="a1b29cd8c8e9446f2dbd8dafac4d07f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b29cd8c8e9446f2dbd8dafac4d07f05">&#9670;&nbsp;</a></span>FTI_GetRequestField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_GetRequestField </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stage_8h.html#a05ee3f86e04233d44812d99f1ce02f98">FTIT_RequestField</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns value from the 'idxRequest' field array at 'ID'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
    <tr><td class="paramname">FTIT_StatusField</td><td>requested field </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Field value on success, 'FTI_NSCS' else. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="stage_8c_a1b29cd8c8e9446f2dbd8dafac4d07f05_cgraph.png" border="0" usemap="#stage_8c_a1b29cd8c8e9446f2dbd8dafac4d07f05_cgraph" alt=""/></div>
<map name="stage_8c_a1b29cd8c8e9446f2dbd8dafac4d07f05_cgraph" id="stage_8c_a1b29cd8c8e9446f2dbd8dafac4d07f05_cgraph">
<area shape="rect" title="Returns value from the &#39;idxRequest&#39; field array at &#39;ID&#39;." alt="" coords="5,5,155,33"/>
<area shape="rect" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages." alt="" coords="203,5,280,33"/>
</map>
</div>

</div>
</div>
<a id="af704cfca36ed0ca9ab685a838518c114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af704cfca36ed0ca9ab685a838518c114">&#9670;&nbsp;</a></span>FTI_GetRequestID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_GetRequestID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns unique 'ID' for staging request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'ID' on success, -1 else. </dd></dl>

</div>
</div>
<a id="a0c5a2182e719ef3336289bd24f8fd312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c5a2182e719ef3336289bd24f8fd312">&#9670;&nbsp;</a></span>FTI_GetRequestIdx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_GetRequestIdx </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the index of desired stage meta info element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index if 'ID' corresponding meta info structure was allocated -1, else. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="stage_8c_a0c5a2182e719ef3336289bd24f8fd312_cgraph.png" border="0" usemap="#stage_8c_a0c5a2182e719ef3336289bd24f8fd312_cgraph" alt=""/></div>
<map name="stage_8c_a0c5a2182e719ef3336289bd24f8fd312_cgraph" id="stage_8c_a0c5a2182e719ef3336289bd24f8fd312_cgraph">
<area shape="rect" title="returns the index of desired stage meta info element." alt="" coords="5,5,144,33"/>
<area shape="rect" href="stage_8c.html#a1b29cd8c8e9446f2dbd8dafac4d07f05" title="Returns value from the &#39;idxRequest&#39; field array at &#39;ID&#39;." alt="" coords="192,5,341,33"/>
<area shape="rect" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages." alt="" coords="389,5,467,33"/>
</map>
</div>

</div>
</div>
<a id="a03ebd25f6254d11bc790e70e9aabd9eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ebd25f6254d11bc790e70e9aabd9eb">&#9670;&nbsp;</a></span>FTI_GetStatusField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_GetStatusField </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stage_8h.html#a90a1c70f104f770eff8ba0b2febc7887">FTIT_StatusField</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns value from the 'status' field array at 'ID'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
    <tr><td class="paramname">FTIT_StatusField</td><td>requested field </td></tr>
    <tr><td class="paramname">integer</td><td>'source', application rank of stage request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Field value on success, 'FTI_NSCS' else. </dd></dl>

</div>
</div>
<a id="a7e59d3bafaa826d69a91493c80a417e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e59d3bafaa826d69a91493c80a417e3">&#9670;&nbsp;</a></span>FTI_HandleStageRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_HandleStageRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__checkpoint.html">FTIT_checkpoint</a> *&#160;</td>
          <td class="paramname"><em>FTI_Ckpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function asynchronously stages the local file to the PFS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>'lpath', absolute path of local file. </td></tr>
    <tr><td class="paramname">string</td><td>'rpath', absolute path of remote file. </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'source', application rank of stage request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'FTI_SCES' on success, 'FTI_NSCS' else. <br  />
 </dd></dl>

</div>
</div>
<a id="a46b8c1f1c37f48eb4261fc646e460478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b8c1f1c37f48eb4261fc646e460478">&#9670;&nbsp;</a></span>FTI_InitStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_InitStage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the FTI staging feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata.</td></tr>
  </table>
  </dd>
</dl>
<p>This function allocates memory for the 'idxRequest' and 'status' fields, creates a node communicator and an MPI shared memory window. </p>

</div>
</div>
<a id="add93ac9ae93c0bc729d2d68f1617341c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add93ac9ae93c0bc729d2d68f1617341c">&#9670;&nbsp;</a></span>FTI_InitStageRequestApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_InitStageRequestApp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes new stage meta info element (application rank) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request</td></tr>
  </table>
  </dd>
</dl>
<p>This function appends a new staging meta info element for the application ranks to 'FTI_Exec-&gt;stageInfo-&gt;request'. Beside that it also initializes the status field (status -&gt; pending) corresponding to 'ID' and assigns the proper index of the meta info element to the 'ID' corresponding 'idxRequest' field. </p>

</div>
</div>
<a id="ae4b37a2f01edc58f583e828993eda152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b37a2f01edc58f583e828993eda152">&#9670;&nbsp;</a></span>FTI_InitStageRequestHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_InitStageRequestHead </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes new stage meta info element (head rank) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>'lpath', absolute path of local file </td></tr>
    <tr><td class="paramname">string</td><td>'rpath', absolute path of remote file </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'source', application rank of stage request </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'FTI_SCES' on success, 'FTI_NSCS' else. <br  />
</dd></dl>
<p>This function appends a new staging meta info element for the head ranks to 'FTI_Exec-&gt;stageInfo-&gt;request'. Beside that it also changes the status field corresponding to 'ID' (status -&gt; active). </p>

</div>
</div>
<a id="a11011f5e2b91e35d66c5c39d33aa0aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11011f5e2b91e35d66c5c39d33aa0aae">&#9670;&nbsp;</a></span>FTI_PrintStageStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FTI_PrintStageStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a35eb6e7616b99b2d7713d802327fe061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35eb6e7616b99b2d7713d802327fe061">&#9670;&nbsp;</a></span>FTI_SetRequestField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_SetRequestField </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stage_8h.html#a05ee3f86e04233d44812d99f1ce02f98">FTIT_RequestField</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets value of the 'idxRequest' field array at 'ID'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
    <tr><td class="paramname">integer</td><td>'entry', new value of field </td></tr>
    <tr><td class="paramname">FTIT_StatusField</td><td>requested field </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'entry' on success, 'FTI_NSCS' else. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="stage_8c_a35eb6e7616b99b2d7713d802327fe061_cgraph.png" border="0" usemap="#stage_8c_a35eb6e7616b99b2d7713d802327fe061_cgraph" alt=""/></div>
<map name="stage_8c_a35eb6e7616b99b2d7713d802327fe061_cgraph" id="stage_8c_a35eb6e7616b99b2d7713d802327fe061_cgraph">
<area shape="rect" title="Sets value of the &#39;idxRequest&#39; field array at &#39;ID&#39;." alt="" coords="5,5,153,33"/>
<area shape="rect" href="api_8c.html#a691a9e560e92286bb5bc1b5cf2f7b199" title="Prints FTI messages." alt="" coords="201,5,279,33"/>
</map>
</div>

</div>
</div>
<a id="ab210803902592adb2ebb22b9a9a28dda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab210803902592adb2ebb22b9a9a28dda">&#9670;&nbsp;</a></span>FTI_SetStatusField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_SetStatusField </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stage_8h.html#a90a1c70f104f770eff8ba0b2febc7887">FTIT_StatusField</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets value from the 'status' field array at 'ID'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
    <tr><td class="paramname">integer</td><td>'entry', new value of field </td></tr>
    <tr><td class="paramname">FTIT_StatusField</td><td>requested field </td></tr>
    <tr><td class="paramname">integer</td><td>'source', application rank of stage request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'entry' value on success, 'FTI_NSCS' else. </dd></dl>

</div>
</div>
<a id="a182f1f60a5374160a724cee0034c572d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a182f1f60a5374160a724cee0034c572d">&#9670;&nbsp;</a></span>FTI_SyncStage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FTI_SyncStage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>rpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__execution.html">FTIT_execution</a> *&#160;</td>
          <td class="paramname"><em>FTI_Exec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__topology.html">FTIT_topology</a> *&#160;</td>
          <td class="paramname"><em>FTI_Topo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFTIT__configuration.html">FTIT_configuration</a> *&#160;</td>
          <td class="paramname"><em>FTI_Conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function synchronously stages the local file to the PFS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>'lpath', absolute path of local file </td></tr>
    <tr><td class="paramname">string</td><td>'rpath', absolute path of remote file </td></tr>
    <tr><td class="paramname">FTI_Exec</td><td>Execution metadata. </td></tr>
    <tr><td class="paramname">FTI_Topo</td><td>Topology metadata. </td></tr>
    <tr><td class="paramname">FTI_Conf</td><td>Configuration metadata. </td></tr>
    <tr><td class="paramname">integer</td><td>'ID' of staging request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'FTI_SCES' on success, 'FTI_NSCS' else. <br  />
</dd></dl>
<p>This function should be called only if the staging feature is enabled without the head process being enabled. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="stage_8c.html">stage.c</a></li>
    <li class="footer">Generated on Fri Mar 13 2020 13:05:30 for Fault Tolerance Interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
